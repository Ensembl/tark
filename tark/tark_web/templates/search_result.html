{% extends "web_home.html" %}

{% load staticfiles %}
{% load add_class %}
{% load add_class %}
{% load search_result_formatter %}

{% block content %}

<script type="text/javascript" class="init">

$(document).ready(function() {
    $('#search_result_table').DataTable();
} );

	</script>

<div class="container" style="padding-top:20px;">

<!-- Info -->
<div class="panel panel-info ">
  <div class="panel-heading"><i class="glyphicon glyphicon-info-sign"></i> <strong>Search Results</strong></div>
  <div class="panel-body">

  <table id="search_result_table" class="table table-striped table-bordered table-responsive table-condensed text-center">
 <thead>
  <tr>
     <th class="text-center" data-sortable="true">Transcript StableID</th>
     <th class="text-center" data-sortable="true">Assembly</th>
     <th class="text-center" data-sortable="true">EnsemblReleaseSet</th>
     <th class="text-center" data-sortable="true">Region</th>
     <th class="text-center" data-sortable="true">Start</th>
     <th class="text-center" data-sortable="true">End</th>
     <th class="text-center" data-sortable="true">Strand</th>
     <th class="text-center" data-sortable="true">GeneNames</th>
     <th class="text-center" data-sortable="true">GeneStableIDs</th>
     <th class="text-center" data-sortable="true">Exons</th>
  </tr>
 </thead>
    {% for result in search_result %}
      <tr>
      <td>{{result.stable_id}}.{{result.stable_id_version}}</td>
      <td>{{result.assembly.assembly_name}}</td>
      <td>{{result.transcript_release_set|get_values_as_list:"shortname"}}</td>
      <td>{{result.loc_region}}</td>
      <td>{{result.loc_start}}</td>
      <td>{{result.loc_end}}</td>
      <td>{{result.loc_strand}}</td>
      <td>{{result.genes|get_values_as_list:"hgnc"}}</td>
      <td>{{result.genes|get_values_as_list:"stable_id"}}</td>
      {% with result.exons|get_values_as_list:"stable_id_exon" as exons %}
      <td>{{exons |linebreaks}}</td>
      {% endwith %}
      </tr>
    {% endfor %}

  
  </table>
  
  
 </div>

</div>

{% endblock %}