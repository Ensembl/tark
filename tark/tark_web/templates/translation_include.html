{% load staticfiles %}
{% load add_class %}
{% load compare_features %}
{% load sequence_format %}

<!-- Translation include -->

{% if diff_result.diff_me_transcript.translations %}
<table id="compare_result_translation" class="table table-bordered table-striped table-condensed">
{% with diff_result.diff_me_transcript.translations as diff_me_tl %}
{% with diff_result.diff_with_transcript.translations as diff_with_tl %}
{% with diff_result.results as diff_result %}

<tr style="background-color: #60a3bc;color:#ffffff">
     <th style="width:20%">Translation</th>
     <th style="width:35%">DIFF ME ({{ diff_result.diff_me_assembly.assembly_name}}/{{diff_result.diff_me_release}})</th>
     <th style="width:35%">DIFF WITH ({{ diff_result.diff_with_assembly.assembly_name}}/{{diff_result.diff_with_release}})</th>
    <th style="text-align:center;width:10%;">MATCH</th>
</tr>
<tr>
<td>StableID</td><td>{{ diff_me_tl.stable_id|default:"Non-coding" }} </td><td>{{ diff_with_tl.stable_id|default:"Non-coding" }}</td><td style="text-align:center"> {% include "match_include.html" with has_var_checksum=diff_result.has_translation_stable_id_changed %}</td>
</tr>
<tr>
<td>StableID Version</td><td>{{ diff_me_tl.stable_id_version|default:"Non-coding" }} </td><td>{{ diff_with_tl.stable_id_version|default:"Non-coding" }}</td><td style="text-align:center"> {% include "match_include.html" with has_var_checksum=diff_result.has_translation_stable_id_version_changed %}</td>
</tr>
<tr>
<td>Location</td><td>{{diff_me_tl|get_location_string|default:"Non-coding"}}</td><td>{{diff_with_tl|get_location_string|default:"Non-coding"}}</td><td style="text-align:center"> {% include "match_include.html" with has_var_checksum=diff_result.has_translation_location_changed %}</td>
</tr>
{% if diff_me_tl.sequence %}
<tr>
<td>Sequence</td><td>{{ diff_me_tl.sequence|truncatechars:15|default:"Non-coding" }} </td><td>{{ diff_with_tl.sequence|truncatechars:15|default:"Non-coding" }} </td><td style="text-align:center"> {% include "match_include.html" with has_var_checksum=diff_result.has_translation_seq_changed %}</td>
</tr>
{% endif %}
{% endwith %}
{% endwith %}
{% endwith %}
</table>
{% endif %}

